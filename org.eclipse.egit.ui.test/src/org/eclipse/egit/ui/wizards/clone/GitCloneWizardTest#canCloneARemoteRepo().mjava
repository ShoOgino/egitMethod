	@SuppressWarnings("boxing")
	@Test
	public void canCloneARemoteRepo() throws Exception {
		File destRepo = new File(ResourcesPlugin.getWorkspace()
				.getRoot().getLocation().toFile(), "egit");

		RepoPropertiesPage propertiesPage = importWizard.openWizard();

		RepoRemoteBranchesPage remoteBranches = propertiesPage
				.nextToRemoteBranches("git://repo.or.cz/egit.git");

		remoteBranches.assertRemoteBranches("historical/pre-eclipse", "master");
		remoteBranches.selectBranches("historical/pre-eclipse");

		WorkingCopyPage workingCopy = remoteBranches.nextToWorkingCopy();

		workingCopy.assertDirectory(destRepo.toString());
		workingCopy.assertBranch("master");
		workingCopy.assertRemoteName("origin");
		workingCopy.waitForCreate();

		Repository repository = new Repository(new File(destRepo, ".git"));
		assertNotNull(repository.resolve("origin/master"));
		assertEquals(repository.resolve("origin/master"), repository
				.resolve("origin/master"));
		assertEquals("90b818e596660b813b6fcf68f1e9e9b62c615130", repository
				.resolve("refs/tags/v0.4.0").name());
		assertTrue(repository.getAllRefs().size() >= 10);
		assertTrue(new File(destRepo, "README").exists());
		assertFalse(repository.getIndex().isChanged());
		assertFalse(repository.getIndex().getEntry("README").isModified(
				destRepo));
		assertEquals(0,
				ResourcesPlugin.getWorkspace().getRoot().getProjects().length);

	}

