	@NonNull
	Repository getRepository() {
		Repository repo = db;
		if (repo == null) {
			throw new IllegalStateException("Repository has not been set"); 		}
		return repo;
	}

